<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UBMAX Rebeca - Painel Admin</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #f0f2f5; }
        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white; padding: 15px 30px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .header h1 { font-size: 1.8em; }
        .header h1 span { color: #e94560; }
        .btn-logout { background: #e94560; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; }
        .container { display: flex; min-height: calc(100vh - 70px); }
        .sidebar { width: 260px; background: #1a1a2e; padding: 20px 0; overflow-y: auto; }
        .menu-item {
            padding: 12px 20px; color: #ccc; cursor: pointer;
            display: flex; align-items: center; gap: 10px;
            transition: all 0.3s; border-left: 3px solid transparent; font-size: 0.95em;
        }
        .menu-item:hover, .menu-item.active { background: rgba(233,69,96,0.2); color: white; border-left-color: #e94560; }
        .menu-section { padding: 15px 20px 5px; color: #666; font-size: 0.75em; text-transform: uppercase; letter-spacing: 1px; }
        .main-content { flex: 1; padding: 25px; overflow-y: auto; }
        .page { display: none; }
        .page.active { display: block; }
        .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px; }
        .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
        .card-icon { font-size: 2em; margin-bottom: 8px; }
        .card h3 { color: #666; font-size: 0.85em; margin-bottom: 5px; }
        .card .value { font-size: 1.8em; font-weight: bold; color: #1a1a2e; }
        .card.green { border-left: 4px solid #27ae60; }
        .card.blue { border-left: 4px solid #3498db; }
        .card.orange { border-left: 4px solid #f39c12; }
        .card.red { border-left: 4px solid #e74c3c; }
        .card.purple { border-left: 4px solid #9b59b6; }
        .panel { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 3px 10px rgba(0,0,0,0.08); margin-bottom: 20px; }
        .panel h2 { color: #1a1a2e; margin-bottom: 15px; font-size: 1.2em; }
        .panel-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 10px 12px; text-align: left; border-bottom: 1px solid #f0f2f5; font-size: 0.9em; }
        th { background: #f8f9fa; font-weight: 600; color: #666; }
        tr:hover { background: #f8f9fa; }
        .badge { padding: 4px 10px; border-radius: 15px; font-size: 0.8em; font-weight: 500; }
        .badge.green { background: #d4edda; color: #155724; }
        .badge.blue { background: #cce5ff; color: #004085; }
        .badge.yellow { background: #fff3cd; color: #856404; }
        .badge.red { background: #f8d7da; color: #721c24; }
        .badge.purple { background: #e2d9f3; color: #6f42c1; }
        .btn { padding: 8px 16px; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85em; transition: all 0.3s; margin: 2px; }
        .btn-sm { padding: 5px 10px; font-size: 0.8em; }
        .btn-primary { background: #3498db; color: white; }
        .btn-success { background: #27ae60; color: white; }
        .btn-danger { background: #e74c3c; color: white; }
        .btn-warning { background: #f39c12; color: white; }
        .btn-purple { background: #9b59b6; color: white; }
        .btn:hover { opacity: 0.85; transform: translateY(-1px); }
        .form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 15px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #333; font-size: 0.9em; }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%; padding: 10px 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px;
        }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: #3498db; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000; }
        .modal.active { display: flex; }
        .modal-content { background: white; border-radius: 12px; padding: 25px; width: 100%; max-width: 600px; max-height: 90vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .modal-close { background: none; border: none; font-size: 1.5em; cursor: pointer; color: #999; }
        .search-bar { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .search-bar input, .search-bar select { flex: 1; min-width: 150px; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; }
        #mapaLeaflet { height: 400px; border-radius: 10px; }
        .chart-container { height: 300px; position: relative; }
        .ranking-item { display: flex; align-items: center; padding: 12px; border-bottom: 1px solid #f0f2f5; }
        .ranking-item:last-child { border-bottom: none; }
        .ranking-pos { width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px; color: white; }
        .ranking-pos.gold { background: linear-gradient(135deg, #f1c40f, #f39c12); }
        .ranking-pos.silver { background: linear-gradient(135deg, #bdc3c7, #95a5a6); }
        .ranking-pos.bronze { background: linear-gradient(135deg, #e67e22, #d35400); }
        .ranking-pos.normal { background: #666; }
        .ranking-info { flex: 1; }
        .ranking-info h4 { margin: 0; font-size: 1em; }
        .ranking-info small { color: #666; }
        .ranking-stats { text-align: right; }
        .ranking-stats .valor { font-size: 1.2em; font-weight: bold; color: #27ae60; }
        .pico-bar { height: 25px; border-radius: 5px; margin: 3px 0; transition: all 0.3s; }
        .pico-bar.alto { background: linear-gradient(90deg, #e74c3c, #c0392b); }
        .pico-bar.medio { background: linear-gradient(90deg, #f39c12, #e67e22); }
        .pico-bar.baixo { background: linear-gradient(90deg, #27ae60, #2ecc71); }
        .hora-label { display: inline-block; width: 50px; font-size: 0.85em; color: #666; }
        .pico-container { display: flex; align-items: center; margin: 5px 0; }
        .pico-value { margin-left: 10px; font-size: 0.85em; font-weight: 500; }
        .status-indicator { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 8px; }
        .status-indicator.online { background: #27ae60; }
        .status-indicator.offline { background: #e74c3c; }
        .token-box { background: linear-gradient(135deg, #27ae60, #2ecc71); border-radius: 12px; padding: 20px; margin-top: 20px; color: white; text-align: center; }
        .token-box code { background: rgba(0,0,0,0.3); padding: 12px 20px; border-radius: 8px; font-size: 1em; display: block; margin: 10px 0; word-break: break-all; }
        .divider { border: none; border-top: 2px solid #eee; margin: 20px 0; }
        .section-title { font-size: 1em; color: #1a1a2e; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        .alert { padding: 12px 15px; border-radius: 8px; margin-bottom: 15px; font-size: 0.9em; }
        .alert-success { background: #d4edda; color: #155724; }
        .alert-error { background: #f8d7da; color: #721c24; }
        .alert-warning { background: #fff3cd; color: #856404; }
        .config-card { background: #f8f9fa; border-radius: 10px; padding: 15px; margin-bottom: 15px; }
        .config-card h4 { margin-bottom: 10px; color: #1a1a2e; }
        .tabs { display: flex; gap: 5px; margin-bottom: 20px; flex-wrap: wrap; }
        .tab { padding: 10px 20px; background: #e0e0e0; border-radius: 8px 8px 0 0; cursor: pointer; font-size: 0.9em; }
        .tab.active { background: white; font-weight: 600; }
        .log-item { padding: 10px; border-left: 3px solid #3498db; margin-bottom: 8px; background: #f8f9fa; border-radius: 0 8px 8px 0; }
        .log-item.erro { border-left-color: #e74c3c; }
        .log-item.login { border-left-color: #27ae60; }
        .log-item.config { border-left-color: #f39c12; }
        .log-time { font-size: 0.8em; color: #666; }
        .log-acao { font-weight: 500; }
        .log-usuario { font-size: 0.85em; color: #3498db; }
    </style>
</head>
<body>
    <header class="header">
        <h1>UB<span>MAX</span> Rebeca</h1>
        <div style="display:flex;align-items:center;gap:20px;">
            <div style="text-align:right;">
                <div id="userName">Administrador</div>
                <small id="userRole" style="opacity:0.8;">Admin</small>
            </div>
            <button class="btn-logout" onclick="logout()">Sair</button>
        </div>
    </header>

    <div class="container">
        <nav class="sidebar">
            <div class="menu-section">Principal</div>
            <div class="menu-item active" data-page="dashboard">üìä Dashboard</div>
            <div class="menu-item" data-page="mapa">üó∫Ô∏è Mapa Tempo Real</div>
            
            <div class="menu-section">Opera√ß√µes</div>
            <div class="menu-item" data-page="corridas">üöó Corridas</div>
            <div class="menu-item" data-page="motoristas">üë®‚Äç‚úàÔ∏è Motoristas</div>
            <div class="menu-item" data-page="clientes">üë• Clientes</div>
            
            <div class="menu-section">Financeiro</div>
            <div class="menu-item" data-page="faturamento">üí∞ Faturamento</div>
            <div class="menu-item" data-page="ranking">üèÜ Ranking</div>
            
            <div class="menu-section">Atendimento</div>
            <div class="menu-item" data-page="reclamacoes">üìû Central Reclama√ß√µes</div>
            <div class="menu-item" data-page="whatsapp">üí¨ WhatsApp</div>
            
            <div class="menu-section">Configura√ß√µes</div>
            <div class="menu-item" data-page="areas">üó∫Ô∏è √Åreas Cobertura</div>
            <div class="menu-item" data-page="precos">üíµ Pre√ßos</div>
            <div class="menu-item" data-page="config">‚öôÔ∏è Configura√ß√µes</div>
            <div class="menu-item" data-page="logs">üìú Logs de Acesso</div>
        </nav>

        <main class="main-content">
            <!-- DASHBOARD -->
            <div id="dashboard" class="page active">
                <h2 style="margin-bottom:20px;">üìä Dashboard em Tempo Real</h2>
                <div class="cards">
                    <div class="card green"><div class="card-icon">üü¢</div><h3>Motoristas Online</h3><div class="value" id="motoristasOnline">0</div></div>
                    <div class="card blue"><div class="card-icon">üöó</div><h3>Corridas Hoje</h3><div class="value" id="corridasHoje">0</div></div>
                    <div class="card orange"><div class="card-icon">‚è≥</div><h3>Pendentes</h3><div class="value" id="corridasPendentes">0</div></div>
                    <div class="card green"><div class="card-icon">üí∞</div><h3>Faturamento Hoje</h3><div class="value">R$ <span id="faturamentoHoje">0</span></div></div>
                    <div class="card purple"><div class="card-icon">üìà</div><h3>Comiss√£o Empresa</h3><div class="value">R$ <span id="comissaoHoje">0</span></div></div>
                </div>
                
                <div class="panel-grid">
                    <div class="panel">
                        <h2>üìà Corridas - √öltimos 7 dias</h2>
                        <div class="chart-container"><canvas id="chartCorridas"></canvas></div>
                    </div>
                    <div class="panel">
                        <h2>‚è∞ Hor√°rios de Pico</h2>
                        <div id="horariosPico"></div>
                    </div>
                </div>
                
                <div class="panel-grid">
                    <div class="panel">
                        <h2>üèÜ Top 5 Motoristas da Semana</h2>
                        <div id="topMotoristas"></div>
                    </div>
                    <div class="panel">
                        <h2>üîî Corridas Ativas</h2>
                        <table><thead><tr><th>Cliente</th><th>Motorista</th><th>Status</th><th>A√ß√£o</th></tr></thead>
                        <tbody id="corridasAtivasTable"></tbody></table>
                    </div>
                </div>
            </div>

            <!-- MAPA -->
            <div id="mapa" class="page">
                <h2 style="margin-bottom:20px;">üó∫Ô∏è Mapa em Tempo Real</h2>
                <div class="cards">
                    <div class="card green"><h3>Dispon√≠veis</h3><div class="value" id="mapaDisponiveis">0</div></div>
                    <div class="card blue"><h3>Em Corrida</h3><div class="value" id="mapaEmCorrida">0</div></div>
                    <div class="card red"><h3>Offline</h3><div class="value" id="mapaOffline">0</div></div>
                </div>
                <div class="panel"><div id="mapaLeaflet"></div></div>
                <button class="btn btn-primary" onclick="atualizarMapa()">üîÑ Atualizar</button>
            </div>

            <!-- CORRIDAS -->
            <div id="corridas" class="page">
                <h2 style="margin-bottom:20px;">üöó Gerenciar Corridas</h2>
                <div class="search-bar">
                    <input type="text" id="buscaCorrida" placeholder="Buscar...">
                    <select id="filtroCorrida"><option value="">Todos</option><option value="pendente">Pendente</option><option value="aceita">Aceita</option><option value="em_andamento">Em Andamento</option><option value="finalizada">Finalizada</option><option value="cancelada">Cancelada</option></select>
                    <button class="btn btn-primary" onclick="carregarCorridas()">üîç Buscar</button>
                </div>
                <div class="panel"><table><thead><tr><th>ID</th><th>Cliente</th><th>Origem</th><th>Destino</th><th>Valor</th><th>Status</th><th>A√ß√µes</th></tr></thead><tbody id="corridasTable"></tbody></table></div>
            </div>

            <!-- MOTORISTAS -->
            <div id="motoristas" class="page">
                <h2 style="margin-bottom:20px;">üë®‚Äç‚úàÔ∏è Gerenciar Motoristas</h2>
                <div class="search-bar">
                    <input type="text" id="buscaMotorista" placeholder="Buscar...">
                    <select id="filtroStatusMotorista"><option value="">Todos</option><option value="disponivel">Dispon√≠vel</option><option value="em_corrida">Em Corrida</option><option value="offline">Offline</option></select>
                    <button class="btn btn-primary" onclick="carregarMotoristas()">üîç Buscar</button>
                    <button class="btn btn-success" onclick="abrirModalMotorista()">+ Novo Motorista</button>
                </div>
                <div class="panel"><table><thead><tr><th>Nome</th><th>WhatsApp</th><th>Ve√≠culo</th><th>Placa</th><th>Status</th><th>Avalia√ß√£o</th><th>A√ß√µes</th></tr></thead><tbody id="motoristasTable"></tbody></table></div>
            </div>

            <!-- CLIENTES -->
            <div id="clientes" class="page">
                <h2 style="margin-bottom:20px;">üë• Gerenciar Clientes</h2>
                <div class="search-bar">
                    <input type="text" id="buscaCliente" placeholder="Buscar...">
                    <button class="btn btn-primary" onclick="carregarClientes()">üîç Buscar</button>
                    <button class="btn btn-success" onclick="abrirModalCliente()">+ Novo Cliente</button>
                </div>
                <div class="panel"><table><thead><tr><th>Nome</th><th>Telefone</th><th>Corridas</th><th>N√≠vel</th><th>Status</th><th>A√ß√µes</th></tr></thead><tbody id="clientesTable"></tbody></table></div>
            </div>

            <!-- FATURAMENTO -->
            <div id="faturamento" class="page">
                <h2 style="margin-bottom:20px;">üí∞ Faturamento</h2>
                <div class="cards">
                    <div class="card green"><h3>Hoje</h3><div class="value">R$ <span id="fatHoje">0</span></div></div>
                    <div class="card blue"><h3>Semana</h3><div class="value">R$ <span id="fatSemana">0</span></div></div>
                    <div class="card purple"><h3>M√™s</h3><div class="value">R$ <span id="fatMes">0</span></div></div>
                    <div class="card orange"><h3>Comiss√£o M√™s</h3><div class="value">R$ <span id="fatComissao">0</span></div></div>
                </div>
                <div class="panel">
                    <h2>üìà Faturamento - √öltimos 30 dias</h2>
                    <div class="chart-container"><canvas id="chartFaturamento"></canvas></div>
                </div>
            </div>

            <!-- RANKING -->
            <div id="ranking" class="page">
                <h2 style="margin-bottom:20px;">üèÜ Ranking de Motoristas</h2>
                <div class="search-bar">
                    <select id="rankingPeriodo" onchange="carregarRanking()">
                        <option value="semana">Esta Semana</option>
                        <option value="mes" selected>Este M√™s</option>
                        <option value="ano">Este Ano</option>
                    </select>
                </div>
                <div class="panel"><div id="rankingLista"></div></div>
            </div>

            <!-- RECLAMA√á√ïES -->
            <div id="reclamacoes" class="page">
                <h2 style="margin-bottom:20px;">üìû Central de Reclama√ß√µes</h2>
                <div class="cards">
                    <div class="card red"><h3>Pendentes</h3><div class="value" id="recPendentes">0</div></div>
                    <div class="card yellow"><h3>Em Andamento</h3><div class="value" id="recAndamento">0</div></div>
                    <div class="card green"><h3>Resolvidas</h3><div class="value" id="recResolvidas">0</div></div>
                </div>
                <div class="search-bar">
                    <select id="filtroReclamacao"><option value="">Todas</option><option value="pendente">Pendentes</option><option value="em_andamento">Em Andamento</option><option value="resolvida">Resolvidas</option></select>
                    <button class="btn btn-primary" onclick="carregarReclamacoes()">üîç Filtrar</button>
                    <button class="btn btn-success" onclick="abrirModalReclamacao()">+ Nova Reclama√ß√£o</button>
                </div>
                <div class="panel"><table><thead><tr><th>Data</th><th>Cliente</th><th>Assunto</th><th>Prioridade</th><th>Status</th><th>A√ß√µes</th></tr></thead><tbody id="reclamacoesTable"></tbody></table></div>
            </div>

            <!-- WHATSAPP -->
            <div id="whatsapp" class="page">
                <h2 style="margin-bottom:20px;">üí¨ WhatsApp da Rebeca</h2>
                <div class="panel">
                    <h2>Status da Conex√£o</h2>
                    <div id="whatsappStatus" class="config-card">
                        <p><span class="status-indicator offline"></span> <strong>Desconectado</strong></p>
                        <p style="color:#666;font-size:0.9em;">Configure a API para conectar</p>
                    </div>
                </div>
                <div class="panel">
                    <h2>‚öôÔ∏è Configura√ß√£o da API</h2>
                    <div class="form-group">
                        <label>URL da API (Evolution API)</label>
                        <input type="text" id="whatsappApiUrl" placeholder="https://sua-api.com">
                    </div>
                    <div class="form-group">
                        <label>API Key</label>
                        <input type="password" id="whatsappApiKey" placeholder="Sua chave de API">
                    </div>
                    <div class="form-group">
                        <label>Nome da Inst√¢ncia</label>
                        <input type="text" id="whatsappInstancia" placeholder="rebeca-taxi" value="rebeca-taxi">
                    </div>
                    <button class="btn btn-success" onclick="salvarConfigWhatsApp()">üíæ Salvar e Conectar</button>
                    <button class="btn btn-primary" onclick="testarWhatsApp()">üîÑ Testar Conex√£o</button>
                </div>
            </div>

            <!-- √ÅREAS DE COBERTURA -->
            <div id="areas" class="page">
                <h2 style="margin-bottom:20px;">üó∫Ô∏è √Åreas de Cobertura</h2>
                <button class="btn btn-success" onclick="abrirModalArea()" style="margin-bottom:20px;">+ Nova √Årea</button>
                <div class="panel"><table><thead><tr><th>Nome</th><th>Cidade</th><th>Bairros</th><th>Taxa Extra</th><th>Status</th><th>A√ß√µes</th></tr></thead><tbody id="areasTable"></tbody></table></div>
            </div>

            <!-- PRE√áOS -->
            <div id="precos" class="page">
                <h2 style="margin-bottom:20px;">üíµ Configurar Pre√ßos</h2>
                <div class="panel">
                    <h2>Valores Base</h2>
                    <div class="form-row">
                        <div class="form-group"><label>Taxa Base (R$)</label><input type="number" id="taxaBase" step="0.01"></div>
                        <div class="form-group"><label>Pre√ßo por Km (R$)</label><input type="number" id="precoKm" step="0.01"></div>
                        <div class="form-group"><label>Taxa M√≠nima (R$)</label><input type="number" id="taxaMinima" step="0.01"></div>
                    </div>
                    <button class="btn btn-primary" onclick="salvarConfigPreco()">üíæ Salvar</button>
                </div>
                <div class="panel">
                    <h2>Regras Din√¢micas</h2>
                    <button class="btn btn-success" onclick="abrirModalRegra()" style="margin:10px 0;">+ Nova Regra</button>
                    <table><thead><tr><th>Nome</th><th>Hor√°rio</th><th>Multiplicador</th><th>A√ß√µes</th></tr></thead><tbody id="regrasTable"></tbody></table>
                </div>
            </div>

            <!-- CONFIGURA√á√ïES -->
            <div id="config" class="page">
                <h2 style="margin-bottom:20px;">‚öôÔ∏è Configura√ß√µes do Sistema</h2>
                <div class="panel">
                    <h2>Tempos e Limites</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Tempo M√°ximo Espera (min)</label>
                            <input type="number" id="cfgTempoEspera" value="10">
                        </div>
                        <div class="form-group">
                            <label>Tempo M√°ximo Aceite (min)</label>
                            <input type="number" id="cfgTempoAceite" value="5">
                        </div>
                        <div class="form-group">
                            <label>Raio M√°ximo Busca (km)</label>
                            <input type="number" id="cfgRaioBusca" value="15">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Comiss√£o da Empresa (%)</label>
                            <input type="number" id="cfgComissao" value="15">
                        </div>
                        <div class="form-group">
                            <label>Avalia√ß√£o M√≠nima Motorista</label>
                            <input type="number" id="cfgAvaliacaoMin" step="0.1" value="3.0">
                        </div>
                        <div class="form-group">
                            <label>Corrida M√≠nima (km)</label>
                            <input type="number" id="cfgCorridaMin" step="0.1" value="1">
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="salvarConfiguracoes()">üíæ Salvar Configura√ß√µes</button>
                </div>
                <div class="panel">
                    <h2>üë• N√≠veis de Acesso</h2>
                    <table><thead><tr><th>N√≠vel</th><th>Descri√ß√£o</th><th>Permiss√µes</th></tr></thead><tbody id="niveisTable"></tbody></table>
                </div>
            </div>

            <!-- LOGS -->
            <div id="logs" class="page">
                <h2 style="margin-bottom:20px;">üìú Logs de Acesso</h2>
                <div class="cards">
                    <div class="card blue"><h3>Total Logs</h3><div class="value" id="logTotal">0</div></div>
                    <div class="card green"><h3>Hoje</h3><div class="value" id="logHoje">0</div></div>
                    <div class="card red"><h3>Erros</h3><div class="value" id="logErros">0</div></div>
                </div>
                <div class="search-bar">
                    <select id="filtroLogTipo"><option value="">Todos</option><option value="login">Login</option><option value="config">Configura√ß√£o</option><option value="erro">Erro</option></select>
                    <button class="btn btn-primary" onclick="carregarLogs()">üîç Filtrar</button>
                </div>
                <div class="panel"><div id="logsLista"></div></div>
            </div>
        </main>
    </div>

    <!-- MODAIS -->
    <div class="modal" id="modalMotorista">
        <div class="modal-content">
            <div class="modal-header"><h3>üìã Cadastrar Motorista</h3><button class="modal-close" onclick="fecharModal('modalMotorista')">&times;</button></div>
            <div id="formMotoristaAlert"></div>
            <form id="formMotorista">
                <div class="section-title">üë§ Dados Pessoais</div>
                <div class="form-group"><label>Nome Completo *</label><input type="text" id="motNome" required></div>
                <div class="form-row">
                    <div class="form-group"><label>WhatsApp *</label><input type="text" id="motWhatsApp" required></div>
                    <div class="form-group"><label>CPF</label><input type="text" id="motCPF"></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>CNH *</label><input type="text" id="motCNH" required></div>
                    <div class="form-group"><label>Validade CNH</label><input type="date" id="motCNHValidade"></div>
                </div>
                <div class="form-group"><label>Endere√ßo</label><input type="text" id="motEndereco"></div>
                <hr class="divider">
                <div class="section-title">üöó Ve√≠culo</div>
                <div class="form-row">
                    <div class="form-group"><label>Modelo *</label><input type="text" id="motVeiculoModelo" required></div>
                    <div class="form-group"><label>Cor *</label><input type="text" id="motVeiculoCor" required></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>Placa *</label><input type="text" id="motVeiculoPlaca" required></div>
                    <div class="form-group"><label>Ano</label><input type="number" id="motVeiculoAno"></div>
                </div>
                <div class="form-group"><label>Senha (vazio = gerar)</label><input type="text" id="motSenha"></div>
                <button type="submit" class="btn btn-success" style="width:100%;padding:12px;">‚úÖ Cadastrar e Gerar Token</button>
            </form>
            <div id="tokenMotoristaBox" class="token-box" style="display:none;">
                <h4>üéâ Motorista Cadastrado!</h4>
                <p>Token:</p><code id="tokenGerado"></code>
                <p><strong>Senha:</strong> <span id="senhaGerada"></span></p>
            </div>
        </div>
    </div>

    <div class="modal" id="modalCliente">
        <div class="modal-content">
            <div class="modal-header"><h3>Novo Cliente</h3><button class="modal-close" onclick="fecharModal('modalCliente')">&times;</button></div>
            <form id="formCliente">
                <div class="form-group"><label>Nome</label><input type="text" id="cliNome" required></div>
                <div class="form-group"><label>WhatsApp</label><input type="text" id="cliTelefone" required></div>
                <button type="submit" class="btn btn-success" style="width:100%;">Salvar</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modalReclamacao">
        <div class="modal-content">
            <div class="modal-header"><h3>üìû Nova Reclama√ß√£o</h3><button class="modal-close" onclick="fecharModal('modalReclamacao')">&times;</button></div>
            <form id="formReclamacao">
                <div class="form-row">
                    <div class="form-group"><label>Nome Cliente</label><input type="text" id="recClienteNome" required></div>
                    <div class="form-group"><label>Telefone</label><input type="text" id="recClienteTel" required></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>Tipo</label><select id="recTipo"><option value="motorista">Motorista</option><option value="cobranca">Cobran√ßa</option><option value="app">App</option><option value="outro">Outro</option></select></div>
                    <div class="form-group"><label>Prioridade</label><select id="recPrioridade"><option value="baixa">Baixa</option><option value="media" selected>M√©dia</option><option value="alta">Alta</option></select></div>
                </div>
                <div class="form-group"><label>Assunto</label><input type="text" id="recAssunto" required></div>
                <div class="form-group"><label>Descri√ß√£o</label><textarea id="recDescricao" rows="3" required></textarea></div>
                <button type="submit" class="btn btn-success" style="width:100%;">üì© Registrar Reclama√ß√£o</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modalArea">
        <div class="modal-content">
            <div class="modal-header"><h3>üó∫Ô∏è Nova √Årea de Cobertura</h3><button class="modal-close" onclick="fecharModal('modalArea')">&times;</button></div>
            <form id="formArea">
                <div class="form-group"><label>Nome da √Årea</label><input type="text" id="areaNome" required></div>
                <div class="form-group"><label>Cidade</label><input type="text" id="areaCidade" required></div>
                <div class="form-group"><label>Bairros (separados por v√≠rgula)</label><input type="text" id="areaBairros" placeholder="Centro, Vila Nova, Jardim"></div>
                <div class="form-group"><label>Taxa Extra (R$)</label><input type="number" id="areaTaxa" step="0.01" value="0"></div>
                <button type="submit" class="btn btn-success" style="width:100%;">üíæ Salvar √Årea</button>
            </form>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
</body>
</html>
